import{t as E}from"./index-Cd6whSpr.js";const x="LOP-P, keirokeer, kai8780, mii-chandesu, Rampie, Serverpodivan, neirina, Kaido Ren, shikeii, EtoNessie, Chikano1582, Kirino Sohta, CuromiSaccu, raikonenightmare, cillia, KUNGOM, GYUTAENG, Tune_ing, Gianloop, Duckchild, Lotte V, Tigermeat, Miyo, M4Singer, Mim, Kaiji, Gyromancy, hibya, S'pose, text_to_death, PixPrucer, PRINTmov, Tanya Magicbeat, Xiao Pingguo, Patiu, FukaOni, DÃ¤n, VictorVonDrew, Arabic Speech Corpus (Nawar HALABI and MicroLinkPC (UK) LIMITED)",$="PixPrucer, Tigermeat, Utau French Resources (Millefeuille), Team Coda, Team Brapa",D={ru:"langRussian",en:"langEnglish",ja:"langJapanese",fr:"langFrench",kr:"langKorean",ko:"langKorean",zh:"langChinese",es:"langSpanish",it:"langItalian",de:"langGerman",pl:"langPolish",uk:"langUkrainian",ar:"langArabic",th:"langThai",pt:"langPortuguese"},N=["langEnglish","langJapanese","langRussian","langFrench","langKorean","langThai","langChinese","langSpanish","langItalian","langPortuguese","langGerman","langPolish","langUkrainian","langArabic","langIndirect"],I={growl:"vmGrowl",scream:"vmScream","vocal fry":"vmVocalFry"},_=["raspy","growl","vocal fry","scream"],U=["growl","vocal fry"],V=c=>c?c.charAt(0).toUpperCase()+c.slice(1):"",G=(c,m="en")=>{if(!c)return[];const A=["en","ru","ja"].includes(m)?m:"en",p=E[A]||E.en;return c.split(/!S\d+/).filter(g=>g.trim().length>0).map((g,w)=>{const h=g.split(`
`).map(t=>t.trim()).filter(t=>t),e={id:w,name:"",nameRu:null,nameEn:null,nameJa:null,page:"",demo:"",cv:"",artist:"",tag:null,original:!1,gradient:["#7c3aed","#4c1d95"],buttonColor:null,info:"",infoRu:null,infoJa:null,infoCV:"",infoCVRu:null,infoCVJa:null,mainLang:"ru",dl:"",videmo:[],vm:[],vmStandardDesc:null,prod:"",dbs:x,assist:$,effect:null,author:null,design:null,growl:null,pitch:null,allowedSongs:null,imgs:[],altImgs:[],altImgEffect:null,animPortrait:!1,animPortraitRect:null,socials:{x:null,yt:null,web:null,sc:null,discord:null,tg:null,bb:null,tw:null,vk:null}};h.forEach(t=>{const b=t.indexOf(":");if(b===-1)return;const i=t.substring(0,b).trim().toLowerCase(),a=t.substring(b+1).trim();if(i==="name")e.name=a;else if(i==="nameru")e.nameRu=a;else if(i==="nameen")e.nameEn=a;else if(i==="nameja")e.nameJa=a;else if(i==="page")e.page=a;else if(i==="demo")e.demo=a;else if(i==="cv")e.cv=a;else if(i==="artist")e.artist=a;else if(i==="tag")e.tag=a;else if(i==="original")e.original=/^(1|true|yes)$/i.test(a);else if(i==="info")e.info=a;else if(i==="inforu")e.infoRu=a;else if(i==="infoja")e.infoJa=a;else if(i==="infocv")e.infoCV=a;else if(i==="infocvru")e.infoCVRu=a;else if(i==="infocvja")e.infoCVJa=a;else if(i==="mainlang")e.mainLang=a;else if(i==="dl")e.dl=a;else if(i==="prod")e.prod=a;else if(i==="dbs"&&a)e.dbs=a;else if(i==="assist"&&a)e.assist=a;else if(i==="effect")e.effect=a;else if(i==="author")e.author=a;else if(i==="design")e.design=a;else if(i==="growl")e.growl=a;else if(i==="pitch")e.pitch=a;else if(i==="x")e.socials.x=a;else if(i==="yt")e.socials.yt=a;else if(i==="web")e.socials.web=a;else if(i==="sc")e.socials.sc=a;else if(i==="ds")e.socials.discord=a;else if(i==="tg")e.socials.tg=a;else if(i==="bb")e.socials.bb=a;else if(i==="tw")e.socials.tw=a;else if(i==="vk")e.socials.vk=a;else if(i==="videmo")e.videmo=a.split(",").map(l=>l.trim()).filter(l=>l);else if(i==="imgs")e.imgs=a.split(",").map(l=>l.trim()).filter(l=>l);else if(i==="altimg")e.altImgs=a.split(",").map(l=>l.trim()).filter(l=>l);else if(i==="altimgeffect")e.altImgEffect=a.trim()||null;else if(i==="animportrait")e.animPortrait=/^(1|true|yes)$/i.test(a);else if(i==="animportraitrect"){const l=a.split(",").map(o=>parseInt(o.trim(),10)).filter(o=>!isNaN(o));l.length>=4&&(e.animPortraitRect={x:l[0],y:l[1],w:l[2],h:l[3]})}else if(i==="songs")e.allowedSongs=a.split(",").map(l=>l.trim()).filter(l=>l);else if(i==="buttoncolor"&&a)e.buttonColor=a.trim();else if(i==="gradient")if(a.includes(",")){const l=a.split(",").map(o=>o.trim());l.length>=2&&(e.gradient=l)}else e.page==="llane_crow"?e.gradient=["#9d4edd","#3c096c"]:e.page==="keiro"?e.gradient=["#64748b","#0f172a"]:e.page==="monone"?e.gradient=["#ef4444","#7f1d1d"]:e.page==="nero"?e.gradient=["#a855f7","#581c87"]:e.page==="m1nt0"&&(e.gradient=["#14b8a6","#0f766e"]);else if(i==="vm"){let l=a.trim(),o=null;if(l.startsWith("(")){let r=0,s=-1;for(let n=0;n<l.length;n++)if(l[n]==="(")r++;else if(l[n]===")"&&(r--,r===0)){s=n;break}s>=0&&(o=l.slice(1,s),l=l.slice(s+1).replace(/^\s*\/?\s*/,""))}if(o){const r=o.split(";");let s=r[0]?r[0].trim():"";m==="ru"&&r[1]?s=r[1].trim():m==="ja"&&r[2]&&(s=r[2].trim()),s&&(s=s.replace(/\\n/g,`
`)),e.vmStandardDesc=s||null}const R=l.split("/").map(r=>r.trim()).filter(Boolean);e.vm=R.map(r=>{let s=r,n=null,S=!1,y=!1,L=!1,C=!1,T=!0;s.toLowerCase().includes("+ex")&&(S=!0,s=s.replace(/\+ex/i,"")),s.toLowerCase().includes("+sty")&&(L=!0,s=s.replace(/\+sty/i,"")),s.toLowerCase().includes("+par")&&(C=!0,s=s.replace(/\+par/i,"")),s=s.trim();const P=s.match(/^([^(]+)(?:\(([^)]+)\))?$/);if(P){s=P[1].trim();const k=P[2];if(k){const d=k.split(";");m==="ru"&&d[1]?n=d[1].trim():m==="ja"&&d[2]?n=d[2].trim():n=d[0].trim(),n&&(n=n.replace(/\\n/g,`
`))}}const u=s.toLowerCase();return _.includes(u)&&(S=!0),U.includes(u)&&(C=!0),u==="aggressive"&&(y=!0),!n&&I[u]&&(n=p[I[u]]),{name:V(s),desc:n,experimental:S,rap:y,style:L,partial:C,playable:T}})}}),e.vm&&e.vm.length>0&&(e.vm=e.vm.map(t=>{if(t.name.toLowerCase()==="growl"&&e.growl){t.playable=!1;const i=`${p.borrowedFrom||"Vocals borrowed from"} ${e.growl}`;t.desc=t.desc?`${t.desc} (${i})`:i}return t})),e.vm.unshift({name:"Standard",desc:e.vmStandardDesc!=null?e.vmStandardDesc:p.vmStandard,experimental:!1,rap:!1,style:!1,partial:!1,playable:!0});const v=D[e.mainLang];e.mainLangFull=v?p[v]:e.mainLang.toUpperCase(),e.additionalLangs=N.filter(t=>t!==v).map(t=>p[t]).join(", ");const f=`/singers/${e.page}`;return e.cardImage=`${f}/card.webp`,e.cardBg=`${f}/cardbg.webp`,e.portrait=`${f}/portrait.webp`,e.portraitWebm=`${f}/portrait.webm`,e.profileImage=`${f}/profile.webp`,e.cvIcon=`${f}/cvicon.webp`,e.altImgs&&e.altImgs.length>0?e.altPortraits=e.altImgs.map(t=>`${f}/${encodeURIComponent(t.trim())}.webp`):e.altPortraits=[],e.link=`/singers/${e.page}`,e}).sort((g,w)=>{const h=g.tag&&g.tag.toUpperCase().includes("NEW"),e=w.tag&&w.tag.toUpperCase().includes("NEW");return h&&!e?-1:!h&&e?1:0})};export{G as p};
