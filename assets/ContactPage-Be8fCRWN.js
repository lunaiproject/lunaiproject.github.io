import{r as a,j as e,t as R}from"./index-Cd6whSpr.js";import{p as J}from"./singersParser-BShtwhUG.js";/* empty css                 */const K="/singersinfo.txt",h={Check:()=>e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("polyline",{points:"20 6 9 17 4 12"})}),Close:()=>e.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),Copy:()=>e.jsx("i",{className:"fi fi-sr-copy"})},M=({t:n,currentLang:o})=>{const[c,u]=a.useState([]),[l,N]=a.useState([]),[i,v]=a.useState(""),[b,f]=a.useState([]),[y,C]=a.useState(!1),[S,D]=a.useState(""),[k,L]=a.useState(""),[x,F]=a.useState(""),[d,w]=a.useState(!1),[g,T]=a.useState(!1),m=a.useRef(null),E=a.useRef(null),p=a.useRef(null);a.useEffect(()=>{if(g){p.current=document.activeElement;const s=setTimeout(()=>{var t;return(t=E.current)==null?void 0:t.focus()},0);return()=>{clearTimeout(s),p.current&&typeof p.current.focus=="function"&&p.current.focus()}}},[g]),a.useEffect(()=>{fetch(K).then(s=>s.text()).then(s=>{const t=J(s,o);u(t)}).catch(console.error)},[o]),a.useEffect(()=>{if(!i.trim()){f([]);return}const s=i.toLowerCase(),t=c.filter(r=>!l.find(V=>V.id===r.id)&&(r.name.toLowerCase().includes(s)||r.nameRu&&r.nameRu.toLowerCase().includes(s)||r.nameJa&&r.nameJa.toLowerCase().includes(s)));f(t)},[i,c,l]);const I=s=>{N([...l,s]),v(""),f([]),m.current&&m.current.focus()},P=s=>{N(l.filter(t=>t.id!==s))},$=s=>{s.key==="Backspace"&&i===""&&l.length>0&&P(l[l.length-1].id)},j=l.length>0&&S.trim().length>0&&k.trim().length>0&&x.trim().length>0&&x.includes("@"),B=s=>{if(s.preventDefault(),!(!j||d)){w(!0),l.map(t=>t.name).join(", ");{w(!1),alert("Email service is not configured. Please contact us directly at lunaiproject@gmail.com");return}}};return e.jsxs("div",{className:"contact-card",children:[e.jsx("h2",{className:"centered-form-title",children:n.formTitle}),e.jsxs("form",{className:"comm-form",onSubmit:B,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:n.formCharName}),e.jsxs("div",{className:`tag-input-container ${y?"focused":""}`,onClick:()=>m.current&&m.current.focus(),children:[l.map(s=>e.jsxs("span",{className:"singer-tag",children:[e.jsx("img",{src:`/singers/${s.page}/icon.png`,alt:"",className:"tag-icon",onError:t=>t.target.style.display="none"}),e.jsx("span",{className:"tag-text",children:s.name}),e.jsx("button",{type:"button",className:"tag-remove",onClick:t=>{t.stopPropagation(),P(s.id)},children:e.jsx(h.Close,{})})]},s.id)),e.jsx("input",{ref:m,type:"text",className:"tag-input-field",placeholder:l.length===0?n.formCharPlaceholder:"",value:i,onChange:s=>v(s.target.value),onKeyDown:$,onFocus:()=>C(!0),onBlur:()=>setTimeout(()=>C(!1),200)})]}),y&&b.length>0&&e.jsx("div",{className:"suggestions-list",children:b.map(s=>e.jsxs("div",{className:"suggestion-item",onMouseDown:t=>{t.preventDefault(),I(s)},children:[e.jsx("img",{src:`/singers/${s.page}/icon.png`,alt:"",className:"sugg-icon",onError:t=>t.target.style.display="none"}),e.jsx("span",{className:"sugg-name",children:s.name})]},s.id))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:n.formProjectDesc}),e.jsx("textarea",{className:"form-textarea",placeholder:n.formProjectPlaceholder,value:S,onChange:s=>D(s.target.value),rows:4})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:n.formPurpose}),e.jsx("input",{type:"text",className:"form-input",placeholder:n.formPurposePlaceholder,value:k,onChange:s=>L(s.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:n.formEmail}),e.jsx("input",{type:"email",className:"form-input",placeholder:n.formEmailPlaceholder,value:x,onChange:s=>F(s.target.value)})]}),e.jsx("button",{type:"submit",className:`btn-primary form-submit-btn ${!j||d?"disabled":""}`,disabled:!j||d,children:d?e.jsx("div",{className:"loading-spinner-small"}):n.formSubmit})]}),g&&e.jsx("div",{className:"success-modal-backdrop",role:"dialog","aria-modal":"true","aria-labelledby":"success-modal-title",children:e.jsxs("div",{className:"success-modal",children:[e.jsx("div",{className:"success-icon-circle",children:e.jsx(h.Check,{})}),e.jsx("h3",{id:"success-modal-title",children:n.formSentTitle}),e.jsx("p",{children:n.formSentMsg}),e.jsx("button",{ref:E,type:"button",className:"btn-secondary",onClick:()=>T(!1),children:n.formClose})]})})]})};function O({currentLang:n}){const o=R[n]||R.en,[c,u]=a.useState(!1),l=()=>{navigator.clipboard.writeText("lunaiproject@gmail.com"),u(!0),setTimeout(()=>u(!1),2e3)};return e.jsx("div",{className:"base-page",children:e.jsx("div",{className:"content-wrapper",children:e.jsxs("div",{className:"page-content",style:{display:"block",textAlign:"left",minHeight:"auto"},children:[e.jsx("h1",{className:"page-title",children:o.pageContact}),e.jsxs("div",{className:"contact-card info-card-spacing",children:[e.jsx("h2",{className:"contact-label",children:o.contactEmailLabel}),e.jsxs("div",{className:"email-row",children:[e.jsx("span",{className:"email-text",children:"lunaiproject@gmail.com"}),e.jsx("button",{type:"button",className:`copy-btn ${c?"copied":""}`,onClick:l,title:o.copied||"Copy","aria-label":c?o.copied:"Copy email address",children:c?e.jsx(h.Check,{}):e.jsx(h.Copy,{})})]}),e.jsx("p",{className:"contact-subtext",children:o.contactDesc})]}),e.jsx(M,{t:o,currentLang:n})]})})})}export{O as default};
